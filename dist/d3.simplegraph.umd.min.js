/*! For license information please see d3.simplegraph.umd.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3")):"function"==typeof define&&define.amd?define(["d3"],e):"object"==typeof exports?exports.SimpleGraph=e(require("d3")):t.SimpleGraph=e(t.d3)}(this,(t=>(()=>{"use strict";var e,s,n={712:e=>{e.exports=t}},r={};function o(t){var e=r[t];if(void 0!==e)return e.exports;var i=r[t]={exports:{}};return n[t](i,i.exports,o),i.exports}s=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,o.t=function(t,i){if(1&i&&(t=this(t)),8&i)return t;if("object"==typeof t&&t){if(4&i&&t.__esModule)return t;if(16&i&&"function"==typeof t.then)return t}var n=Object.create(null);o.r(n);var r={};e=e||[null,s({}),s([]),s(s)];for(var a=2&i&&t;"object"==typeof a&&!~e.indexOf(a);a=s(a))Object.getOwnPropertyNames(a).forEach((e=>r[e]=()=>t[e]));return r.default=()=>t,o.d(n,r),n},o.d=(t,e)=>{for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var a={};return(()=>{o.d(a,{default:()=>d});var t=o(712),e=o.t(t,2),s=[new Date("2000-01-01"),new Date("2000-01-02")],n=s[0].getTime();const r=["diamond","circle","square","triangle","triangle-up","triangle-down"];function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return h(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=Array(e);i<e;i++)s[i]=t[i];return s}function u(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=Array(e);i<e;i++)s[i]=t[i];return s}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=Array(e);i<e;i++)s[i]=t[i];return s}function f(e){for(var i in(e=e||{}).container=e.container||"body",e.margins=e.margins||{},e.axis=e.axis||{},e.styles=e.styles||{},this.allowDrawBeyondGraph=!!e.allowDrawBeyondGraph,Array.isArray(e.margins)&&(e.margins={top:e.margins[0],right:e.margins[1],bottom:e.margins[2],left:e.margins[3]}),this.margins={left:e.margins.left||0===e.margins.left?e.margins.left:40,right:e.margins.right||0===e.margins.right?e.margins.right:20,top:e.margins.top||0===e.margins.top?e.margins.top:20,bottom:e.margins.bottom||0===e.margins.bottom?e.margins.bottom:40},this.containerWidth=e.width||600,this.containerHeight=e.height||400,this.width=this.containerWidth-this.margins.left-this.margins.right,this.height=this.containerHeight-this.margins.top-this.margins.bottom,this.color=e.colorScale?e.colorScale:t.scaleOrdinal(t.schemeCategory10),this.customColors={},this.svg=t.select(e.container).append("svg").attr("width",this.containerWidth).attr("height",this.containerHeight).style("font-family","'Century Gothic', CenturyGothic, Geneva, AppleGothic, sans-serif").style("overflow","visible"),this.svgDefs=this.svg.append("defs"),this.svgGraph=this.svg.append("g").attr("transform","translate("+this.margins.left+","+this.margins.top+")"),e.styles)this.svg.style(i,e.styles[i]);return this.resetAxisOptions(e.axis),this}f.prototype.getSvgElement=function(){return this.svg},f.prototype.getSvgGraphic=function(){return this.svgGraph},f.prototype.remove=function(){return this.svg.remove(),this},f.prototype.destroy=function(){this.svg.remove(),this.svg=null,this.svgGraph=null,this.clearAllData(),this.color=null,this.customColors=null,this.x=null,this.y=null,this.minMax=null,this.xScale=null,this.yScale=null,this.yAxis=null,this.xAxis=null,this.yGridAxis=null,this.xGridAxis=null,this.points=null,this.ptSeriesShapes=null,this.lines=null,this.pointLines=null,this.areas=null},function(t,e){t.prototype.resetAxisOptions=function(t){var i=this;return(t=t||{}).x=t.x||{},t.y=t.y||{},t.style=t.styles||{},this.axisStyles=t.style,this.axisStyles=this.axisStyles||{},this.axisStyles.fill=this.axisStyles.fill||"none",this.axisStyles["stroke-width"]=this.axisStyles["stroke-width"]||.5,this.axisStyles.stroke=this.axisStyles.stroke||"black",["x","y","y2"].forEach((function(r){if(!t[r]){if("y2"===r)return;t[r]={}}t[r].scale=t[r].scale||e.scaleLinear;var o,a,l=function(t){var e=t(s),i=e.domain(),r=!!e.interpolator;if(!i.length)return e.quantiles?{isQuantile:!0,isSequential:r}:e.step?{isBand:!0,isPoint:!e.paddingInner}:{isOrdinal:!0};if(1===i.length)return{isThreshold:!0};if(i[0]instanceof Date)return{isTime:!0,isUtc:i[0].getTime()===n};var o=3===i.length;return e.base?{isPow:!0,isSequential:r,isDiverging:o}:e.exponent?{isPow:!0,isSqrt:.5==e.exponent(),isSequential:r,isDiverging:o}:e.constant?{isSymlog:!0,isSequential:r,isDiverging:o}:e.thresholds?{isQuantize:!0}:{isLinear:!0,isSequential:r,isDiverging:o}}(t[r].scale);if(!l.isTime&&!l.isLog&&l.isLinear,t[r].format||(t[r].format=l.isTime?"%Y-%m-%d":".0f"),t[r].grid=t[r].grid||{},l.isLog&&(t[r].logBase=t[r].logBase||10),i[r]={label:null===t[r].label?"x"===r?"x-value":"y-value":t[r].label,isDate:l.isTime,isLog:l.isLog},l.isTime?l.isUTC?i[r].format=e.utcFormat(t[r].format):i[r].format=e.timeFormat(t[r].format):i[r].format=e.format(t[r].format),i[r].min=t[r].min?t[r].min:0,i[r].max=t[r].max?t[r].max:100,i[r].scale=t[r].scale(),l.isLog&&i[r].scale.base(t[r].logBase),t[r].break){i[r].break=t[r].break,o=[i[r].min,i[r].break.domain[0],i[r].break.domain[1],i[r].max];var c=l.isTime?o.map((function(t){return t.getTime()})):o,h="x"===r?i.width:i.height;a="x"===r?[0,0,0,h]:[h,0,0,0];var u=(h-i[r].break.rangegap)/(c[1]-c[0]+c[3]-c[2]);a[1]=u*(c[1]-c[0]),a[2]=a[1]+i[r].break.rangegap}else o=[i[r].min,i[r].max],a="x"===r?[0,i.width]:[i.height,0];i[r].scale.domain(o).range(a);var p=!1;"x"===r?(p=!0,i[r].axis=e.axisBottom(i[r].scale),i[r].axisTwo=e.axisTop(i[r].scale),i[r].gridAxis=e.axisBottom(i[r].scale)):"y2"===r?(i[r].axis=e.axisRight(i[r].scale),i[r].gridAxis=e.axisRight(i[r].scale)):(i[r].axis=e.axisLeft(i[r].scale),i[r].gridAxis=e.axisLeft(i[r].scale)),l.isLog?(i[r].axis.tickFormat(i[r].format),t[r].ticks?i[r].axis.ticks(t[r].ticks,i[r].format):(i[r].axis.ticks(i[r].format),t[r].tickValues&&i[r].axis.tickValues(t[r].tickValues)),p&&(i[r].axisTwo.tickFormat(i[r].format),t[r].ticks?i[r].axisTwo.ticks(t[r].ticks,i[r].format):(i[r].axisTwo.ticks(i[r].format),t[r].tickValues&&i[r].axisTwo.tickValues(t[r].tickValues)))):(i[r].axis.tickFormat(i[r].format),t[r].tickValues?(i[r].axis.tickValues(t[r].tickValues),i[r].gridAxis.tickValues(t[r].tickValues)):(t[r].ticks||0===t[r].ticks)&&(Array.isArray(t[r].ticks)?(i[r].axis.ticks(t[r].ticks[0],t[r].ticks[1]),i[r].gridAxis.ticks(t[r].ticks[0],t[r].ticks[1])):(i[r].axis.ticks(t[r].ticks),i[r].gridAxis.ticks(t[r].ticks))),i[r].gridAxis.tickFormat(i[r].format),t[r].grid.tickValues?i[r].gridAxis.tickValues(t[r].grid.tickValues):(t[r].grid.ticks||0===t[r].grid.ticks)&&(Array.isArray(t[r].grid.ticks)?i[r].gridAxis.ticks(t[r].grid.ticks[0],t[r].grid.ticks[1]):i[r].gridAxis.ticks(t[r].grid.ticks)),p&&(i[r].axisTwo.tickFormat(i[r].format),t[r].tickValues?i[r].axisTwo.tickValues(t[r].tickValues):(t[r].ticks||0===t[r].ticks)&&(Array.isArray(t[r].ticks)?i[r].axisTwo.ticks(t[r].ticks[0],t[r].ticks[1]):i[r].axisTwo.ticks(t[r].ticks))))})),this.minMax={x:[this.x.min,this.x.max],y:[this.y.min,this.y.max]},this.xScale=this.x.scale,this.xAxis=this.x.axis,this.xGridAxis=this.x.gridAxes,this.yScale=this.y.scale,this.yAxis=this.y.axis,this.yGridAxis=this.y.gridAxes,this.removeAll(),this.drawAxes(),this},t.prototype.drawAxes=function(t,e,i){var s=this;e?"top"!==(e=e.toLowerCase().trim())&&(e="bottom"):e="bottom";var n,r=0;"top"!==e?(n=this.x.axis,r=this.height):n=this.x.axisTwo,i||(i=0),this.svg.selectAll(".sg-xaxis, .sg-yaxis, .sg-y2axis, .sg-axis-label").remove();var o=this.svgGraph.append("g").attr("class","sg-xaxis").attr("transform","translate(0,"+r+")").call(n).attr("font-size",null).attr("font-family",null),a=this.svgGraph.append("g").attr("class","sg-yaxis").call(this.y.axis).attr("font-size",null).attr("font-family",null),l=this.y2?this.svgGraph.append("g").attr("class","sg-y2axis").attr("transform","translate("+this.width+",0)").call(this.y2.axis).attr("font-size",null).attr("font-family",null):null;this.svgGraph.selectAll(".tick line").style("stroke","#000");var c=this.svgGraph.selectAll(".sg-xaxis .domain, .sg-yaxis .domain, .sg-y2axis .domain");for(var h in this.axisStyles)c.style(h,this.axisStyles[h]);var u={x:0,y:0,y2:0};this.svgGraph.selectAll(".sg-xaxis .tick").each((function(){this.getBBox().height>u.x&&(u.x=this.getBBox().height)})),this.svgGraph.selectAll(".sg-yaxis .tick").each((function(){this.getBBox().width>u.y&&(u.y=this.getBBox().width)})),this.svgGraph.selectAll(".sg-y2axis .tick").each((function(){this.getBBox().width>u.y2&&(u.y2=this.getBBox().width)}));var p={a:"middle",x:.5*this.width,y:"top"===e?-(u.x+i):u.x+10+i},y={a:"middle",x:-.5*this.height,y:-(u.y+10+i)},f={a:"middle",x:.5*this.height,y:-(u.y2+10+i)},d="center",g="center",m="center",x="outside",v="outside",b="outside";return t&&((t||"").toLowerCase().split(/[ ,]+/).forEach((function(t){var n=t.trim().split("-"),r=n.length>1&&n[0];switch(t=n.length>1?n[n.length-1]:n[0]){case"outside":r&&"x"!==r||(p.y="top"===e?-(u.x+i):u.x+10+i,x="outside"),r&&"y"!==r||(y.y=-(u.y+10+i),v="outside"),r&&"y2"!==r||(f.y=-(u.y2+10+i),b="outside");break;case"inside":r&&"x"!==r||(p.y="top"===e?14+i:-(6+i),x="inside"),r&&"y"!==r||(y.y=5,v="inside"),r&&"y2"!==r||(f.y=5,b="inside");case"center":r&&"x"!==r||(p.a="middle",p.x=.5*s.width,d="center"),r&&"y"!==r||(y.a="middle",y.x=-.5*s.height,g="center"),r&&"y2"!==r||(f.a="middle",f.x=.5*s.height,m="center");break;case"left":p.a="start",p.x=0,d="left";break;case"right":p.a="end",p.x=s.width,d="right";break;case"top":r&&"y"!==r||(y.a="end",y.x=0,g="top"),r&&"y2"!==r||(f.a="start",f.x=0,m="top");break;case"bottom":r&&"y"!==r||(y.a="start",y.x=-s.height,g="bottom"),r&&"y2"!==r||(f.a="end",f.x=s.height,m="bottom")}})),"inside"===x&&("left"===d?p.x+=10:"right"===d&&this.y2&&(p.x-=10),"bottom"===e?("left"===d&&"inside"===v&&"bottom"===g&&(p.x+=10,y.x+=10),"right"===d&&this.y2&&"inside"===b&&"bottom"===m&&(p.x-=10,f.x-=10)):("left"===d&&"inside"===v&&"top"===g&&(p.x+=10,y.x-=10),"right"===d&&this.y2&&"inside"===b&&"top"===m&&(p.x-=10,f.x+=10)))),"inside"===v&&("top"===g&&(y.x-=5),"bottom"===g&&(y.x+=5)),"inside"===b&&("top"===m&&(f.x+=5),"bottom"===m&&(y2LLabelPos.x-=5)),o.append("text").attr("class","sg-axis-label sg-xaxis").attr("x",p.x).attr("y",p.y).attr("fill","#000").style("text-anchor",p.a).style("font-weight","bolder").text(this.x.label),a.append("text").attr("class","sg-axis-label sg-yaxis").attr("transform","rotate(-90)").attr("x",y.x).attr("y",y.y).attr("dy",".71em").attr("fill","#000").style("text-anchor",y.a).style("font-weight","bolder").text(this.y.label),l&&l.append("text").attr("class","sg-axis-label sg-y2axis").attr("transform","rotate(90)").attr("x",f.x).attr("y",f.y).attr("dy",".71em").attr("fill","#000").style("text-anchor",f.a).style("font-weight","bolder").text(this.y2.label),this}}(f,e),function(t){t.prototype.getColorBySeriesName=function(t,e){if(!t)return null;if(t in this.customColors)return this.customColors[t];var i,s,n;if(this.points)for(var r in this.points)if(t===(i=this.points[r]).series)return i.style&&i.style.fill?i.style.fill:e||this.color.domain().indexOf(t)>=0?this.color(t):null;if(this.lines)for(var o in this.lines)if(t===(s=this.lines[o]).series)return s.style&&s.style.stroke?s.style.stroke:e||this.color.domain().indexOf(t)>=0?this.color(t):null;if(this.areas)for(var a in this.areas)if(t===(n=this.areas[a]).series)return n.style&&n.style.fill?n.style.fill:e||this.color.domain().indexOf(t)>=0?this.color(t):null;return e?this.color(t):null},t.prototype.resetColorScale=function(t){return t?this.color=t:this.color.domain([]),this},t.prototype.setSeriesColor=function(t,e){this.customColors[t]=e},t.prototype.removeSeriesColor=function(t){return this.customColors[t]&&delete this.customColors[t],this}}(f),function(t){t.prototype.drawGrid=function(t){this.svgGraph.selectAll(".sg-grid").remove();var e=t&&t.opacity?parseFloat(t.opacity):.4,i=t&&t.stroke?t.stroke:"#555",s=t&&t["stroke-width"]?parseFloat(t["stroke-width"]):.3;return this.svgGraph.append("g").attr("class","sg-grid").attr("transform","translate(0,"+this.height+")").style("opacity",e).style("stroke",i).style("stroke-width",s).call(this.x.gridAxis.tickSize(-this.height).tickFormat("")),this.svgGraph.append("g").attr("class","sg-grid").style("opacity",e).style("stroke",i).style("stroke-width",s).call(this.y.gridAxis.tickSize(-this.width).tickFormat("")),this},t.prototype.removeGrid=function(){return this.svgGraph.selectAll(".sg-grid").remove(),this},t.prototype.removeLegend=function(){return this.svg.selectAll(".sg-legend").remove(),this},t.prototype.drawLegend=function(t,e){this.removeLegend(),t?t.x&&t.y||(t.x||0===t.x||(t.x=void 0!==t[0]&&"number"==typeof t[0]?t[0]:this.width+5),t.y||0===t.y||(t.y=void 0!==t[1]&&"number"==typeof t[1]?t[1]:0)):t={x:0,y:0};var i=(e=e||{}).anchor||"left",s=e.bgstyle||{},n=e.exclude||[];n||(n=[]),"string"==typeof n&&(n=n.trim().split(/\s+/));var r={all:[],points:[],lines:[],areas:[]};n.forEach((function(t){var e=r.all,i=t.split("::").map((function(t){return t.trim()}));if(i.length>1)switch(i[1].toLowerCase()){case"point":case"points":i[0]||(r.points=!0),e=r.points;break;case"line":case"lines":i[0]||(r.lines=!0),e=r.lines;break;case"area":case"areas":i[0]||(r.areas=!0),e=r.areas;break;default:return}!0!==e&&e.push(i[0])}));var o=function(t,e){return!0===r[e]||~r[e].indexOf(t)||!r.all.indexOf(t)};if(s.padding){var a="string"==typeof s.padding?s.padding.split(" "):[s.padding];1===a.length?(s["padding-left"]=a[0],s["padding-right"]=a[0],s["padding-top"]=a[0],s["padding-bottom"]=a[0]):2===a.length?(s["padding-left"]=a[1],s["padding-right"]=a[1],s["padding-top"]=a[0],s["padding-bottom"]=a[0]):(a.length>3&&(s["padding-left"]=a[3]),s["padding-right"]=a[1],s["padding-top"]=a[0],s["padding-bottom"]=a[2]),delete s.padding}else s["padding-left"]||(s["padding-left"]=0),s["padding-right"]||(s["padding-right"]=0),s["padding-top"]||(s["padding-top"]=0),s["padding-bottom"]||(s["padding-bottom"]=0);s.fill||(s.fill="#fff",s.opacity=0),s["padding-left"]=parseInt(s["padding-left"]),s["padding-right"]=parseInt(s["padding-right"]),s["padding-top"]=parseInt(s["padding-top"]),s["padding-bottom"]=parseInt(s["padding-bottom"]);var l=this.svg.append("g").attr("class","sg-legend").attr("transform","translate("+t.x+","+t.y+")"),c=l.append("rect").attr("class","sg-legend-bg").attr("x",0).attr("y",0);for(var h in s)h.startsWith("padding")||c.style(h,s[h]);var u=e.itemsPerColumn||0,p=e.rowHeight||24,y=0,f=s["padding-top"],d=s["padding-left"];function g(){y++,u>0&&y>=u?(y=0,f=s["padding-top"],d=l.node().getBBox().width+12):f+=p}var m=this;function x(t,e,i,s){if(s){var n=f+10,r=l.append("path").attr("x",d).attr("y",f).attr("d","M"+d+" "+n+" L"+(18+d)+" "+n);for(var o in m.pointLines[0].style)r.style(o,m.pointLines[0].style[o]);r.style("stroke",m.getColorBySeriesName(t.series))}var a="function"==typeof t.size?t.size():t.size;a>14&&(a=14);var c=d+2,h=f+3;if(e&&e.startsWith("triangle")){var u=1.519676*a,p=u/2,y=.86602*u;switch(c+=7-p,h+=7-.5*y,e){case"triangle-down":l.append("polygon").attr("points","".concat(c,",").concat(h+y," ")+"".concat(c+p,",").concat(h," ")+"".concat(c+u,",").concat(h+y)).style("fill",i);break;case"triangle":case"triangle-up":l.append("polygon").attr("points","".concat(c,",").concat(h," ")+"".concat(c+p,",").concat(h+y," ")+"".concat(c+u,",").concat(h)).style("fill",i)}}else{var x=a/2,v=7-x;c+=v,h+=v,"circle"===e?l.append("circle").attr("cx",c+x).attr("cy",h+x).attr("r",x).style("fill",i):l.append("rect").attr("x",c).attr("y",h).attr("width",a).attr("height",a).attr("transform","square"==e?"":"rotate(45,".concat(c+x,",").concat(h+x,")")).style("fill",i)}l.append("text").attr("x",d+23).attr("y",f+9).attr("dy",".35em").style("text-anchor","start").text(t.series),g()}function v(t,e){var i=f+10,s=l.append("path").attr("x",d).attr("y",f).attr("d","M"+d+" "+i+" L"+(18+d)+" "+i);for(var n in t.style)s.style(n,t.style[n]);"stroke"in t.style||s.style("stroke",e),l.append("text").attr("x",d+23).attr("y",f+9).attr("dy",".35em").style("text-anchor","start").text(t.series),g()}function b(t,e){var i=l.append("rect").attr("x",d).attr("y",f).attr("width",18).attr("height",18);for(var s in t.style)i.style(s,t.style[s]);"fill"in t.style||i.style("fill",e),l.append("text").attr("x",d+23).attr("y",f+9).attr("dy",".35em").style("text-anchor","start").text(t.series),g()}if(this.areas&&!0!==r.areas)for(var _=[],A=0;A<this.areas.length;A++){var k=this.areas[A].series;if(!o(k,"areas")&&!~_.indexOf(k)){_.push(k);var w=this.getColorBySeriesName(k);b(this.areas[A],"function"==typeof w?w(this.areas[A]):w)}}if(this.lines&&!0!==r.lines)for(var S=[],L=0;L<this.lines.length;L++){var P=this.lines[L].series;if(!o(P,"lines")&&!~S.indexOf(P)){S.push(P);var D=this.getColorBySeriesName(P);v(this.lines[L],"function"==typeof D?D(this.lines[L]):D)}}if(this.points&&!0!==r.points)for(var G=[],O=0;O<this.points.length;O++){var F=this.points[O].series;if(!o(F,"points")&&!~G.indexOf(F)){G.push(F);var z=!1;if(this.pointLines)for(var C=this.pointLines.length;C--;)if(this.pointLines[C].series===F){z=!0;break}var B=this.getColorBySeriesName(F);B="function"==typeof B?B(this.points[O]):B,x(this.points[O],this.getPointSeriesShape(F),B,z)}}var N=l.node().getBBox();return c.attr("width",N.width+s["padding-left"]+s["padding-right"]).attr("height",N.height+s["padding-top"]+s["padding-bottom"]),"middle"===(i=i.trim().toLowerCase())?t.x-=.5*N.width:"right"===i&&(t.x-=N.width),l.attr("transform","translate("+t.x+","+t.y+")"),this}}(f),function(t){t.prototype.addPointData=function(t,e,i,s){this.points=this.points||[],this.ptSeriesShapes=this.ptSeriesShapes||{},t=null===t?"":String(t),(s=s||{}).size=!s.size||"function"!=typeof s.size&&s.size<=0?s.size=10:s.size,s.y2Axis=!(!s.y2Axis&&!s.y2),s.shape&&this.setPointSeriesShape(t,s.shape);var n={series:t,x:e,y:parseFloat(i),y2:s.y2Axis,size:s.size,_bind:null,_keys:null};return this.points.push(n),this},t.prototype.addPointsData=function(t,e,i,s,n){var r=this;return t&&0!==t.length?(this.points=this.points||[],this.ptSeriesShapes=this.ptSeriesShapes||{},(n=n||{}).size=!n.size||"function"!=typeof n.size&&n.size<=0?n.size=10:n.size,n.y2Axis=!(!n.y2Axis&&!n.y2),n.additionalDataKeys=n.additionalDataKeys||null,t.forEach((function(t,o){var a=!n.forceSeriesName&&!n.forceSeries&&e in t&&t[e],l=a?t[e]:e||0===e?e:o,c=t[i],h=t[s];l=null===l?"":String(l),n.shape&&(r.ptSeriesShapes[l]=n.shape);var u={series:l,x:c,y:parseFloat(h),y2:n.y2Axis,size:n.size,_bind:t,_keys:{x:i,y:s,additional:null}};if(a&&(u._keys.series=e),n.additionalDataKeys&&Array.isArray(n.additionalDataKeys)){var p=[];n.additionalDataKeys.forEach((function(e){for(var i=e,s=1;i in u;)i=e+String(++s);p.push({key:e,name:i}),u[i]=t[e]})),u._keys.additional=p}r.points.push(u)})),this):this},t.prototype.addPointsDataAsArray=function(t,e,i){if(!e||0===e.length)return this;this.points=this.points||[],this.ptSeriesShapes=this.ptSeriesShapes||{},t=null===t?"":String(t),(i=i||{}).size=!i.size||"function"!=typeof i.size&&i.size<=0?i.size=10:i.size,i.y2Axis=!(!i.y2Axis&&!i.y2),i.showNulls=!!i.showNulls,i.shape&&this.setPointSeriesShape(t,i.shape);var s=this;return e.forEach((function(e){var n={series:t,x:parseFloat(e[0]),y:parseFloat(e[1]),y2:i.y2Axis,size:i.size,_bind:e,_keys:{x:0,y:1,additional:null}};if(isNaN(n.y)||!n.y&&0!==n.y){if(!showNulls)return;n.y=0,n.wasNull=!0}s.points.push(n)})),this},t.prototype.clearPointsData=function(t){return null==t?this.points=null:Array.isArray(t)?this.points=this.points.filter((function(e){return~t.indexOf(e.series)})):this.points=this.points.filter((function(e){return e.series!==t})),this},t.prototype._getPointData=function(t,e){if(!this.points)return[];var i=this.points.filter((function(e){return e.series===t}));if(!i||!i.length)return this;if(e||0===e){for(;e<0;)e=i.length+e;i=[i[e]]}return i},t.prototype._clonePointData=function(t){var e={series:t.series,x:t.x,y:t.y,y2:t.y2,size:t.size};return t._keys&&(t._keys.x&&(e[t._keys.x]=t.x),t._keys.y&&(e[t._keys.y]=t.y),t._keys.additional&&t._keys.additional.forEach((function(i){e[i.name]=t[i.name]}))),e},t.prototype.getPointsDataBySeries=function(t){var e=this;return this._getPointData(t).map((function(t){return e._clonePointData(t)}))},t.prototype.getPointCoordinatesBySeries=function(t){return this._getPointData.map((function(t){return[t.x,t.y||0===t.y?t.y:t.y2]}))},t.prototype.getPointSeriesShape=function(t){return this.ptSeriesShapes=this.ptSeriesShapes||{},this.ptSeriesShapes[t]},t.prototype.setPointSeriesShape=function(t,e){return this.ptSeriesShapes=this.ptSeriesShapes||{},this.ptSeriesShapes[t]=~r.indexOf(e)?e:null,this},t.prototype.updatePointsData=function(t,e,i){return this._getPointData(t,e).forEach((function(t){["x","y","y2","size"].forEach((function(e){e in i&&null!==i[e]&&void 0!==l(i[e])&&(t[e]=i[e],t._keys&&delete t._keys[e])}))})),this._syncPointLinesData(),this},t.prototype.syncPointsData=function(){return this.points?(this.points.forEach((function(t){t._bind&&t._keys&&("series"in t._keys&&t._bind[t._keys.series],"x"in t._keys&&(t.x=parseFloat(t._bind[t._keys.x])),"y"in t._keys&&(t.y=parseFloat(t._bind[t._keys.y])),t._keys.additional&&t._keys.additional.forEach((function(e){return t[e.name]=t._bind[e.key]})))})),this._syncPointLines(),this):this}}(f),function(t,e){t.prototype.addAreaAsCoordinates=function(t,i,s){if(!i||!Array.isArray(i)||i.length<2)return this;var n={};if((s=s||{}).style)for(var r in s.style)n[r]=s.style[r];return this.areas=this.areas||[],this.areas.push({series:null===t?"":String(t),functions:null,coords:i,resolution:null,xRange:null,y2:!(!s.y2Axis&&!s.y2),style:s.style||{},interpolate:s.interpolation||e.curveLinear,_bind:{coords:i,style:n}}),this},t.prototype.addAreaBetweenTwoLines=function(t,i,s,n,r){if(!s||"function"!=typeof s)return this;if(!i||"function"!=typeof i)return this;var o={};if((r=r||{}).style)for(var a in r.style)o[a]=r.style[a];return this.areas=this.areas||[],this.areas.push({series:null===t?"":String(t),functions:[i,s],coords:null,xRange:n?c(n):null,y2:!(!r.y2Axis&&!r.y2),style:r.style||{},interpolate:r.interpolation||e.curveLinear,_bind:{xRange:n,style:o}}),this},t.prototype._getAreaData=function(t,e){if(!this.areas)return[];var i=this.areas.filter((function(e){return e.series===t}));if(!i||!i.length)return this;if(e||0===e){for(;e<0;)e=i.length+e;i=[i[e]]}return i},t.prototype._cloneAreaData=function(t){return{series:t.series,functions:t.functions?c(t.functions):null,coords:t.coords?t.coords.map((function(t){return c(t)})):null,xRange:t.xRange?c(t.xRange):null,y2:t.y2,style:t.style,interpolate:t.interpolate}},t.prototype.getAreasDataBySeries=function(t,e){var i=this;return this._getAreaData(t,e).map((function(t){return i._cloneAreaData(t)}))},t.prototype.updateAreaData=function(t,e,i){return this._getAreaData(t,e).forEach((function(t){if(i.lineFunctionTop||i.functionTop||i.lineFunctionBottom||i.functionBottom)t.functions=[i.lineFunctionBottom||i.functionBottom||t.functions&&t.functions[0],i.lineFunctionTop||i.functionTop||t.functions&&t.functions[1]],t.functions[0]||(t.functions[0]=function(t){return 0}),t.functions[1]||(t.functions[1]=function(t){return 0}),i.xRange&&(t.xRange=c(i.xRange),t._bind&&(t._bind.xRange=i.xRange)),t.coords=null,t._bind&&delete t._bind.coords;else if(i.coordinates||i.coords){var e=i.coordinates||i.coords;t.coords=c(e),t.functions=null,t._bind&&(t._bind.coords=e,delete t._bind.xRange)}if(t.interpolate=i.interpolate||t.interpolate,i.style){for(var s in t.style={},i.style)t.style[s]=i.style[s];t._bind&&(t._bind.style=i.style)}})),this},t.prototype.clearAreasData=function(t){return null==t?this.areas=null:Array.isArray(t)?this.areas=this.areas.filter((function(e){return~t.indexOf(e.series)})):this.areas=this.areas.filter((function(e){return e.series!==t})),this},t.prototype.syncAreasData=function(){return this.areas?(this.areas.forEach((function(t){if(t._bind.xRange&&(t.xRange=c(t._bind.xRange)),t._bind.coords&&(t.coords=t._bind.coords.map((function(t){return c(t)}))),t._bind.style)for(var e in t.style={},update.style)t.style[e]=update.style[e]})),this):this}}(f,e),function(t,e){t.prototype.addLineDataAsCoordinates=function(t,i,s){if(!i||0===i.length)return this;this.lines=this.lines||[];var n={};if((s=s||{}).style)for(var r in s.style)n[r]=s.style[r];return n["stroke-width"]&&"number"==typeof n["stroke-width"]||(n["stroke-width"]=1.5),this.lines.push({series:null===t?"":String(t),lineFunction:null,coords:i.map((function(t){return u(t)})),xRange:null,y2:!(!s.y2Axis&&!s.y2),style:n,interpolate:s.interpolation||e.curveLinear,_bind:{coords:i,style:n}}),this},t.prototype.addLineDataAsFunction=function(t,i,s,n){if(!i||"function"!=typeof i||"number"!=typeof i(0))return this;this.lines=this.lines||[];var r=(n=n||{}).style||{};if(n.style)for(var o in n.style)r[o]=n.style[o];r["stroke-width"]&&"number"==typeof r["stroke-width"]||(r["stroke-width"]=1.5);var a=a||e.curveLinear;return this.lines.push({series:null===t?"":String(t),lineFunction:i,coords:null,xRange:s?u(s):null,y2:!(!n.y2Axis&&!n.y2),style:r,interpolate:n.interpolation||e.curveLinear,_bind:{xRange:s,style:r}}),this},t.prototype.addLinesDataFromPoints=function(t,i){if(!this.points||0===this.points.length)return this;var s=(i=i||{}).handleOverlap?i.handleOverlap.toLowerCase():"average",n={};if(i.style)for(var r in i.style)n[r]=i.style[r];n["stroke-width"]&&"number"==typeof n["stroke-width"]||(n["stroke-width"]=1.5),n.stroke&&delete n.stroke;for(var o={},a=0;a<this.points.length;a++){var l=this.points[a].series;l in o?(o[l].y2=this.points[a].y2,o[l].points.push(this.points[a])):o[l]={points:[this.points[a]]}}var c=function(t){return!0};for(var h in t&&("function"==typeof t?c=t:"string"==typeof t?c=function(e){return e===t}:Array.isArray(t)&&(c=function(e){return~t.indexOf(e)})),this.pointLines=[],o)if(c(h)&&!(o[h].points.length<2)){var u=this._getPointLine(o[h].points,s);u.length>=2&&this.pointLines.push({series:h,lineFunction:null,resolution:null,coords:u,xRange:null,y2:o[h].y2,style:n,interpolate:i.interpolation||e.curveLinear,bind:{style:n}})}return this},t.prototype._getPointLine=function(t,e){t.sort((function(t,e){return t.x-e.x}));for(var i=[],s=0;s<t.length;++s){for(var n=t[s],r=[n.y],o=[n.x,n.y],a=!1;s+1<t.length&&(n=t[s+1]).x===o[0];)a=!0,r.push(n.y),++s;if(a)if(~["mean","average"].indexOf(e))o[1]=r.reduce((function(t,e){return t+e}));else switch(r.sort(),e){case"lowest":case"min":o[1]=r[0];break;case"highest":case"max":o[1]=r[r.length-1];break;case"median":o[1]=r[Math.floor(.5*r.length)];break;default:throw"Unknown handle overlap operation: ".concat(e)}i.push(o)}return i},t.prototype.clearLinesData=function(t){return null==t?this.lines=null:Array.isArray(t)?this.lines=this.lines.filter((function(e){return~t.indexOf(e.series)})):this.lines=this.lines.filter((function(e){return e.series!==t})),this},t.prototype.clearPointLinesData=function(t){return null==t?this.pointLines=null:Array.isArray(t)?this.pointLines=this.pointLines.filter((function(e){return~t.indexOf(e.series)})):this.pointLines=pointLines.lines.filter((function(e){return e.series!==t})),this},t.prototype._getLineData=function(t,e){if(!this.lines)return[];var i=this.lines.filter((function(e){return e.series===t}));if(!i||!i.length)return[];if(e||0===e){for(;e<0;)e=i.length+e;i=[i[e]]}return i},t.prototype._cloneLineData=function(t){return{series:t.series,lineFunction:t.lineFunction,coords:t.coords?t.coords.map((function(t){return u(t)})):null,xRange:t.xRange?u(t.xRange):null,y2:t.y2,style:t.style,interpolate:t.interpolate}},t.prototype.getLinesDataBySeries=function(t,e){var i=this;return this._getLineData(t,e).map((function(t){return i._cloneLineData(t)}))},t.prototype.updateLinesData=function(t,e,i){return this._getLineData(t,e).forEach((function(t){if(i.lineFunction||i.function)t.lineFunction=i.lineFunction||i.function||t.lineFunction,i.xRange&&(t.xRange=u(i.xRange),t._bind&&(t._bind.xRange=i.xRange)),t.coords=null,t._bind&&delete t._bind.coords;else if(i.coordinates||i.coords){var e=i.coordinates||i.coords;t.coords=u(e),t._bind&&(t._bind.coords=e,delete t._bind.xRange)}if(t.interpolate=i.interpolate||t.interpolate,i.style){for(var s in t.style={},i.style)t.style[s]=i.style[s];t.style["stroke-width"]&&"number"==typeof t.style["stroke-width"]||(t.style["stroke-width"]=1.5),t._bind&&(t._bind.style=i.style)}})),this},t.prototype.syncLinesData=function(){return this.lines?(this.lines.forEach((function(t){if(t._bind.xRange&&(t.xRange=u(t._bind.xRange)),t._bind.coords&&(t.coords=t._bind.coords.map((function(t){return u(t)}))),t._bind.style){for(var e in t.style={},t._bind.style)t.style[e]=t._bind.style[e];t.style["stroke-width"]&&"number"==typeof t.style["stroke-width"]||(t.style["stroke-width"]=1.5)}})),this):this},t.prototype._syncPointLines=function(){var t=this;if(this.pointLines){var e={};this.points.forEach((function(s){var n=s.series;n in e?e[n].push(t.points[i]):e[n]=[t.points[i]]})),this.pointLines=this.pointLines.filter((function(i){if(!(i.series in e))return!1;if(i.coords=t._getPointLine(e[i.series]),i._bind.style){for(var s in i.style={},i._bind.style)i.style[s]=i._bind.style[s];i.style["stroke-width"]&&"number"==typeof i.style["stroke-width"]||(i.style["stroke-width"]=1.5)}return!0}))}}}(f,e),function(t){t.prototype._findIntercept=function(t,e,i,s){var n,r=t(e),o=t(i),a=s?this.y2:this.y;if(r<a.min!=o<a.min)n=a.min;else{if(r>a.max==o>a.max)return null;n=a.max}var l,c,h,u,p,y=e+.5*(i-e),f=.25*Math.abs(i-e),d=r,g=e;e-=1e-5,i+=1e-5;for(var m=0;m++<100;){if(l=t(y),c=Math.abs(l-n),y>=this.x.min&&y<=this.x.max&&c<1e-6)return[y,n];if(m>0&&u<c?(y=g,l=d,f*=.5):((h=l>n!=(y>g==l>d))!==p&&(f*=.5),g=y,d=l,p=h,u=c),(y+=p?f:-f)<e||y>i)return null}return null},t.prototype._getLineSegmentsFromCoordinates=function(t,e){for(var i=e?this.y2:this.y,s=[],n=[],r=null,o=!1,a=!1,l=0;l<t.length;l++){var c=t[l];if(void 0!==c[1]&&null!==c[1]){var h=r?(t[l][1]-r[1])/(t[l][0]-r[0]):0;if(o){if(!a&&c[0]>=this.x.max&&(a=!0,c[0]>this.x.max)){if(!r)break;c=[this.x.max,r[0]+h*(c[1]-r[1])]}if(c[1]>=i.min&&c[1]<=i.max){if(0===n.length&&r&&0!==h){var u=h>0?i.min:i.max;c=[(this.x.isDate?r[0].getTime():r[0])+(u-r[1])/h,u],this.x.isDate&&(c[0]=new Date(c[0])),l--}n.push(c)}else n.length>0&&(u=h>0?i.max:i.min,c=[(this.x.isDate?r[0].getTime():r[0])+(u-r[1])/h,u],this.x.isDate&&(c[0]=new Date(c[0])),n.push(c)),n.length>1&&(s.push(n),n=[]);if(a)break;r=c}else{if(c[0]>=this.x.min){if(o=!0,c[0]>this.x.min&&r){var p=[this.x.min,r[0]+h*(c[1]-r[1])];p[1]>=i.min&&p[1]<=i.max&&n.push(p)}c[1]>=i.min&&c[1]<=i.max&&n.push(c)}r=c}}else n.length>1&&s.push(n),n=[],r=null}return n.length>1&&s.push(n),s},t.prototype._getLineSegmentsFromFunction=function(t,e,i,s,n){var r;if(i?(i[0]<this.x.min&&(i[0]=this.x.min),i[1]>this.x.max&&(i[0]=this.x.max)):i=[this.x.min,this.x.max],e&&"number"==typeof e||(e=Math.floor((this.width-this.margins.left-this.margins.right)/10)),e<2&&(e=2),this.x.isLog){var o=Math.pow(i[1]/i[0],1-e);r=function(t){return(t*=o)>i[1]?i[1]:t}}else{var a=(i[1]-i[0])/(e-1),l=this.x.isDate;r=function(t){return l?new DateUTC(t.getTime()+a):t+a}}for(var c=[],h=[],u=i[0],p=u,y=s?this.y2:this.y;;){var f=!1;(u>=i[1]||isNaN(u))&&(u=i[1],f=!0);var d=t(u);if(n){var g;if(d>=y.min&&d<=y.max)0===h.length&&u>i[0]&&(g=this._findIntercept(t,p,u,s))&&h.push(g),h.push([u,d]);else h.length>0&&(g=this._findIntercept(t,p,u,s))&&h.push(g),h.length>1&&(c.push(h),h=[]);if(p=u,u=r(u),f)break}else h.push([u,d])}return h.length>1&&c.push(h),c},t.prototype._getAreaPolysFromCoordinates=function(t,e){for(var i=[],s=[],n=0;n<t.length;n++)i.push([t[n][0],t[n][1]]),s.push([t[n][0],t[n][2]]);return this._getAreaPolysFromLineCrosswalk(this._getLineSegmentsFromCoordinates(i,e),this._getLineSegmentsFromCoordinates(s,e),e)},t.prototype._getAreasPolysFromFunctions=function(t,e,i,s,n,r){return this._getLineSegmentsFromFunction(t,i,s,n,r),this._getLineSegmentsFromFunction(e,i,s,n,r),this._getAreaPolysFromLineCrosswalk(this._getLineSegmentsFromFunction(t,i,s,n,r),this._getLineSegmentsFromFunction(e,i,s,n,r),n)},t.prototype._getAreaPolysFromLineCrosswalk=function(t,e,i){for(var s,n,r=[],o=[],a=[0,0],l=[0,0],c=[!1,!1],h=[!1,!1];;){s=c[0]?null:t[a[0]][l[0]],n=c[1]?null:e[a[1]][l[1]];var u=[!1,!1];if(!s&&!n)break;s&&n?s[0]===n[0]?(o.push([s[0],s[1],n[1]]),u[0]=u[1]=!0):(s[0]<n[0]?u[0]=!0:u[1]=!0,o.length>=2&&r.push(o),o=[]):(u=[!0,!0],o.length>=2&&r.push(o),o=[]);for(var p=[!1,!1],y=0;y<2;y++)if(!c[y]){var f=0===y?t:e;u[y]&&(l[y]+=1),h[y]=l[y]>=f[a[y]].length,h[y]&&(a[y]+=1,l[y]=0,p[y]=!0,c[y]=a[y]>=f.length)}if(p[0]&&p[1]&&(o.length>=2&&r.push(o),o=[]),c[0]&&c[1]){o.length>=2&&r.push(o);break}}return r}}(f),function(t,e){t.prototype.removePoints=function(t){return null==t?this.svgGraph.selectAll(".sg-point").remove():(t=Array.isArray(t)?t:[t],this.svgGraph.selectAll(".sg-point").filter((function(e){return~t.indexOf(e.series)})).remove()),this},t.prototype.drawPoints=function(t,e){var i=this;if(this.removePoints(),!this.points||0===this.points.length)return this;var s=this.points;if(this.allowDrawBeyondGraph||(s=s.filter((function(e){if(!e.x&&0!==e.x||Number.isNaN(e.x))return!1;if(e.x<i.x.min||e.x>i.x.max)return!1;if(i.x.break&&e.x>i.x.break.domain[0]&&e.x<i.x.break.domain[1])return!1;if(!t&&isNaN(e.y))return!1;var s=e.y2?i.y2:i.y;return!(e.y<s.min||e.y>s.max||s.break&&e.y>s.break.domain[0]&&e.y<s.break.domain[1])}))),!s.length)return this;var n={};for(var r in s.forEach((function(t){t.series in n?n[t.series].push(t):n[t.series]=[t]})),n)this._drawPoints(this.svgGraph.selectAll(".sg-temporary-point").data(n[r]).enter(),this.ptSeriesShapes[r],e);return this},t.prototype.drawUpdatePoints=function(t,i){var s=this;if(!this.points||0===this.points.length)return this.removePoints(),this.removePointLines(),this;i&&(Object.getPrototypeOf(i)!==Object.prototype&&(i={}),i.duration=i.duration||200,i.ease=i.ease||e.easePolyOut);var n=this.points;this.allowDrawBeyondGraph||(n=n.filter((function(e){if(!e.x&&0!==e.x||Number.isNaN(e.x))return!1;if(e.x<s.x.min||e.x>s.x.max)return!1;if(s.x.break&&e.x>s.x.break.domain[0]&&e.x<s.x.break.domain[1])return!1;if(!t&&isNaN(e.y))return!1;var i=e.y2?s.y2:s.y;return!(e.y<i.min||e.y>i.max||i.break&&e.y>i.break.domain[0]&&e.y<i.break.domain[1])})));var r={};n.forEach((function(t){t.series in r?r[t.series].push(t):r[t.series]=[t]}));var o,a,l,c,h=function(t){var e;o=r[t],a=s.ptSeriesShapes[t],(l=s.svgGraph.selectAll(".sg-point").filter((function(e){return e.series===t}))).filter((function(t){return!~o.indexOf(t)})).remove(),l=l.filter((function(t){return~o.indexOf(t)})),c=function(t){if(Array.isArray(t))return y(t)}(e=o)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return y(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?y(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l.each((function(t){var e=c.indexOf(t);~e&&c.splice(e,1)})),s._drawPoints(s.svgGraph.selectAll(".sg-temporary-point").data(c).enter(),a,i),s._updatePoints(l,a,i)};for(var u in r)h(u);return this},t.prototype._drawPoints=function(t,i,s){if(t.size()){var n;switch(i){case"triangle":case"triangle-up":case"triangle-down":n=t.append("polygon");break;case"square":case"diamond":n=t.append("rect");break;default:n=t.append("circle")}n=this._formatPoint(n,i,s),s&&(Object.getPrototypeOf(s)!==Object.prototype&&(s={}),s.duration=s.duration||200,s.ease=s.ease||e.easePolyOut,n.transition().duration(s.duration).ease(s.ease).style("opacity",(function(t){return t.style&&"opacity"in t.style?t.style.opacity:1})))}},t.prototype._updatePoints=function(t,i,s){t.size()&&(s&&(Object.getPrototypeOf(s)!==Object.prototype&&(s={}),s.duration=s.duration||200,s.ease=s.ease||e.easePolyOut,t=t.transition().duration(s.duration).ease(s.ease)),this._formatPoint(t,i))},t.prototype._formatPoint=function(t,e,i){var s=this;switch(e){case"triangle-down":t.attr("series",(function(t){return t.series})).style("opacity",i?0:1).attr("class","sg-point sg-point-td").attr("points",(function(t){var e=e="function"==typeof t.size?t.size():t.size,i=1.519676*e,n=.86602*i*.5,r=.5*i,o=s.x.scale(t.x),a=isNaN(t.y)?0:t.y;return a=(t.y2?s.y2.scale:s.y.scale)(a),"".concat(o-r,",").concat(a+n," ").concat(o,",").concat(a-n," ").concat(o+r,",").concat(a+n)}));break;case"triangle":case"triangle-up":t.attr("series",(function(t){return t.series})).style("opacity",i?0:1).attr("class","sg-point sg-point-tu").attr("points",(function(t){var e=e="function"==typeof t.size?t.size(t,t._bind):t.size,i=1.519676*e,n=.86602*i*.5,r=.5*i,o=s.x.scale(t.x),a=isNaN(t.y)?0:t.y;return a=(t.y2?s.y2.scale:s.y.scale)(a),"".concat(o-r,",").concat(a-n," ").concat(o,",").concat(a+n," ").concat(o+r,",").concat(a-n)}));break;case"square":case"diamond":t.attr("series",(function(t){return t.series})).style("opacity",i?0:1).attr("class","sg-point sg-point-sd").attr("width",(function(t){return"function"==typeof t.size?t.size():t.size})).attr("height",(function(t){return"function"==typeof t.size?t.size():t.size})).attr("x",(function(t){var e="function"==typeof t.size?t.size():t.size;return s.x.scale(t.x)-e/2})).attr("y",(function(t){isNaN(t.y)||t.y;var e="function"==typeof t.size?t.size():t.size;return(t.y2?s.y2.scale:s.y.scale)(t.y)-e/2})).attr("transform",(function(t){if("diamond"!==e)return"";var i=isNaN(t.y)?0:t.y;return"rotate(45,".concat(s.x.scale(t.x),",").concat((t.y2?s.y2.scale:s.y.scale)(i),")")}));break;default:t.style("opacity",i?0:1).attr("series",(function(t){return t.series})).attr("class","sg-point sg-point-cr").attr("r",(function(t){return.5*("function"==typeof t.size?t.size(t):t.size)})).attr("cx",(function(t){return s.x.scale(t.x)})).attr("cy",(function(t){var e=isNaN(t.y)?0:t.y;return(t.y2?s.y2.scale:s.y.scale)(e)}))}return t.style("fill",(function(t){var e=s.getColorBySeriesName(t.series,!0);return"function"==typeof e?e(t):e})).style("stroke",(function(t){var e=s.getColorBySeriesName(t.series,!0);return"function"==typeof e?e(t):e})),t}}(f,e),function(t,e){t.prototype.removeAllLines=function(t){return this.removeLines(t).removePointLines(t)},t.prototype.removeLines=function(t){var e;return null==t?e=this.svgGraph.selectAll(".sg-line").remove():(e=Array.isArray(t)?t:[t],this.svgGraph.selectAll(".sg-line").filter((function(e){return~t.indexOf(e.series)})).remove()),e.each((function(t){t._segments=null,t._d3s=null})),this},t.prototype.removePointLines=function(t){var e;return null==t?e=this.svgGraph.selectAll(".sg-point-line").remove():(e=Array.isArray(t)?t:[t],this.svgGraph.selectAll(".sg-point-line").filter((function(e){return~t.indexOf(e.series)})).remove()),e.each((function(t){t._segments=null,t._d3s=null})),this},t.prototype.drawAllLines=function(t,e){return this.drawPointLines().drawLines(t,e)},t.prototype.drawLines=function(t,e){if(this.removeLines(),t||0===t?t<=2&&(t=2):t=20,!this.lines)return this;var i=this;return this.lines.forEach((function(e){e.lineFunction?e._segments=i._getLineSegmentsFromFunction(e.lineFunction,t,e.xRange,e.y2Axis,!i.allowDrawBeyondGraph):i.allowDrawBeyondGraph?e._segments=[e.coords]:e._segments=i._getLineSegmentsFromCoordinates(e.coords,e.y2),e._segments&&(e._segments=e._segments.filter((function(t){return t&&t.length>=2})))})),this._drawLines(this.lines,"sg-line"),this},t.prototype.drawPointLines=function(t){if(this.removePointLines(),!this.pointLines)return this;var e=this;return this.pointLines.forEach((function(t){e.allowDrawBeyondGraph?t._segments=[t.coords]:t._segments=e._getLineSegmentsFromCoordinates(t.coords,t.y2),t._segments&&(t._segments=t._segments.filter((function(t){return t&&t.length>=2})))})),this._drawLines(this.pointLines,"sg-point-line",t),this},t.prototype.drawUpdateAllLines=function(t,e){return this.drawUpdateLines(t,e).drawUpdatePointLines(e)},t.prototype.drawUpdateLines=function(t,i){t||0===t?t<=2&&(t=2):t=20,i&&(Object.getPrototypeOf(i)!==Object.prototype&&(i={}),i.duration=i.duration||200,i.ease=i.ease||e.easePolyOut);var s=this;return this.lines.forEach((function(e){e.lineFunction?e._segments=s._getLineSegmentsFromFunction(e.lineFunction,t,e.xRange,e.y2Axis,!s.allowDrawBeyondGraph):s.allowDrawBeyondGraph?e._segments=[e.coords]:e._segments=s._getLineSegmentsFromCoordinates(e.coords,e.y2),e._segments&&(e._segments=e._segments.filter((function(t){return t&&t.length>=2})))})),s._updateLines(this.lines,"sg-line",i),this},t.prototype.drawUpdatePointLines=function(t){t&&(Object.getPrototypeOf(t)!==Object.prototype&&(t={}),t.duration=t.duration||200,t.ease=t.ease||e.easePolyOut);var i=this;return this.pointLines.forEach((function(t){i.allowDrawBeyondGraph?t._segments=[t.coords]:t._segments=i._getLineSegmentsFromCoordinates(t.coords,t.y2),t._segments&&(t._segments=t._segments.filter((function(t){return t&&t.length>=2})))})),i._updateLines(this.pointLines,"sg-point-line",t),this},t.prototype._drawLines=function(t,i,s){var n=this,r=this,o=this.svgGraph.selectAll(".sg-temporary-line").data(t).enter().append("path").attr("series",(function(t){return t.series})).attr("class",i).style("opacity",s?0:1).style("fill","none").attr("d",(function(t){var i=t.y2?n.y2:n.y,s=e.line().x((function(t){return n.x.scale(t[0])})).y((function(t){return i.scale(t[1])})).curve(t.interpolate);return t._segments.reduce((function(t,e){return(t||"")+(e.length<2?"":" "+s(e))}),"")})).each((function(t){var i=e.select(this),n=t.style||{};for(var o in n)(!s||o&&"opacity"!=o.toLowerCase())&&i.style(o,n[o]);if(!("stroke"in n)){var a=r.getColorBySeriesName(t.series,!0);i.style("stroke","function"==typeof a?a(t):a)}t._d3s=i}));s&&(Object.getPrototypeOf(s)!==Object.prototype&&(s={}),s.duration=s.duration||200,s.ease=s.ease||e.easePolyOut,o.transition().duration(s.duration).ease(s.ease).style("opacity",(function(t){return t.style&&"opacity"in t.style?t.style.opacity:1})))},t.prototype._updateLines=function(t,i,s){var n=this;if(!t)return this;var r=t.filter((function(t){return t._segments&&t._segments.length&&!t._segments.filter((function(t){return t.length<2})).length?!t._d3s:(segments._d3s&&(t._d3s.remove(),t._d3s=null),!1)})),o=this.svgGraph.selectAll("."+i);s&&(o=o.transition().duration(s.duration).ease(s.ease));var a=this;o.attr("d",(function(t){var i=t.y2?n.y2:n.y,s=e.line().x((function(t){return n.x.scale(t[0])})).y((function(t){return i.scale(t[1])})).curve(t.interpolate);return t._segments.reduce((function(t,e){return(t||"")+(e.length<2?"":" "+s(e))}),"")})).each((function(t){var i=e.select(this),s=t.style||{};for(var n in s)i.style(n,s[n]);if(!("stroke"in s)){var r=a.getColorBySeriesName(t.series,!0);i.style("stroke","function"==typeof r?r(t):r)}}));var l=this.svgGraph.selectAll(".sg-temporary-line").data(r).enter().append("path").attr("series",(function(t){return t.series})).attr("class",i).style("opacity",s?0:1).style("fill","none").attr("d",(function(t){var i=t.y2?a.y2:a.y,s=e.line().x((function(t){return a.x.scale(t[0])})).y((function(t){return i.scale(t[1])})).curve(t.interpolate);return t._segments.reduce((function(t,e){return(t||"")+(e.length<2?"":" "+s(e))}),"")})).each((function(t){var i=e.select(this),n=t.style||{};for(var r in n)(!s||r&&"opacity"!=r.toLowerCase())&&i.style(r,n[r]);if(!("stroke"in n)){var o=a.getColorBySeriesName(t.series,!0);i.style("stroke","function"==typeof o?o(t):o)}t._d3s=i}));s&&(s.duration=s.duration||200,s.ease=s.ease||e.easePolyOut,l.transition().duration(s.duration).ease(s.ease).style("opacity",(function(t){return t.style&&"opacity"in t.style?t.style.opacity:1})))}}(f,e),function(t,e){t.prototype.removeAreas=function(t){return null==t?this.svgGraph.selectAll(".sg-area").remove():(removed=Array.isArray(t)?t:[t],this.svgGraph.selectAll(".sg-area").filter((function(e){return~t.indexOf(e.series)})).remove()),this},t.prototype.drawAreas=function(t,e){var i=this;return this.removeAreas(),t||0===t?t<=2&&(t=2):t=20,this.areas?(this.areas.forEach((function(t){t.functions?t._parts=i._getAreasPolysFromFunctions(t.functions[0],t.functions[1],t.resolution,t.xRange,t.y2,!i.allowDrawBeyondGraph):i.allowDrawBeyondGraph?t._parts=[t.coords]:t._parts=i._getAreaPolysFromCoordinates(t.coords,t.y2),t._parts&&(t._parts=t._parts.filter((function(t){return t&&t.length>=2})))})),this._drawAreas(t,e),this):this},t.prototype.drawUpdateAreas=function(t,e){var i=this;return t||0===t?t<=2&&(t=2):t=20,this.areas.forEach((function(t){t.functions?t._parts=i._getAreasPolysFromFunctions(t.functions[0],t.functions[1],t.resolution,t.xRange,t.y2,!i.allowDrawBeyondGraph):i.allowDrawBeyondGraph?t._parts=[t.coords]:t._parts=i._getAreaPolysFromCoordinates(t.coords,t.y2),t._parts&&(t._parts=t._parts.filter((function(t){return t&&t.length>=2})))})),this._updateAreas(e),this},t.prototype._drawAreas=function(t,i){var s=this;if(this.areas){var n=this,r=this.svgGraph.selectAll(".sg-temporary-area").data(this.areas).enter().append("path").attr("series",(function(t){return t.series})).attr("class","sg-area").style("opacity",i?0:1).attr("d",(function(t){var i=t.y2?s.y2:s.y,n=e.area().x((function(t){return s.x.scale(t[0])})).y0((function(t){return i.scale(t[1])})).y1((function(t){return i.scale(t[2])})).curve(t.interpolate);return t._parts.reduce((function(t,e){return e.length<2?t:t+" "+n(e)}),"")})).each((function(t){var s=e.select(this),r=t.style||{};for(var o in r)(!i||o&&"opacity"!=o.toLowerCase())&&s.style(o,r[o]);if(!("fill"in r)){var a=n.getColorBySeriesName(t.series,!0);s.style("fill","function"==typeof a?a(t):a)}t._d3s=s}));i&&(Object.getPrototypeOf(i)!==Object.prototype&&(i={}),i.duration=i.duration||200,i.ease=i.ease||e.easePolyOut,r.transition().duration(i.duration).ease(i.ease).style("opacity",(function(t){return t.style&&"opacity"in t.style?t.style.opacity:1})))}},t.prototype._updateAreas=function(t){var i=this;if(this.areas){t&&(Object.getPrototypeOf(t)!==Object.prototype&&(t={}),t.duration=t.duration||200,t.ease=t.ease||e.easePolyOut);var s=this.areas.filter((function(t){return t._parts&&t._parts.length&&!t._parts.filter((function(t){return t.length<2})).length?!t._d3s:(segments._d3s&&(t._d3s.remove(),t._d3s=null),!1)})),n=this.svgGraph.selectAll(".sg-area");t&&(n=n.transition().duration(t.duration).ease(t.ease));var r=this;n.attr("d",(function(t){var s=t.y2?i.y2:i.y,n=e.area().x((function(t){return i.x.scale(t[0])})).y0((function(t){return s.scale(t[1])})).y1((function(t){return s.scale(t[2])})).curve(t.interpolate);return t._parts.reduce((function(t,e){return e.length<2?t:t+" "+n(e)}),"")})).each((function(t){var i=e.select(this),s=t.style||{};for(var n in s)i.style(n,s[n]);if(!("fill"in s)){var o=r.getColorBySeriesName(t.series,!0);i.style("fill","function"==typeof o?o(t):o)}}));var o=this.svgGraph.selectAll(".sg-temporary-area").data(s).enter().append("path").attr("series",(function(t){return t.series})).attr("class","sg-area").style("opacity",t?0:1).attr("d",(function(t){var s=t.y2?i.y2:i.y,n=e.area().x((function(t){return i.x.scale(t[0])})).y0((function(t){return s.scale(t[1])})).y1((function(t){return s.scale(t[2])})).curve(t.interpolate);return t._parts.reduce((function(t,e){return e.length<2?t:t+" "+n(e)}),"")})).each((function(i){var s=e.select(this),n=i.style||{};for(var o in n)(!t||o&&"opacity"!=o.toLowerCase())&&s.style(o,n[o]);if(!("fill"in n)){var a=r.getColorBySeriesName(i.series,!0);s.style("fill","function"==typeof a?a(i):a)}i._d3s=s}));t&&(t.duration=t.duration||200,t.ease=t.ease||e.easePolyOut,o.transition().duration(t.duration).ease(t.ease).style("opacity",(function(t){return t.style&&"opacity"in t.style?t.style.opacity:1})))}}}(f,e),function(t,e){t.prototype.addTooltipToPoints=function(t,e,i){return e=e&&!Array.isArray(e)?[e]:e,this.svgGraph.selectAll(".sg-point").filter((function(t){return!e||~e.indexOf(t.series)})).call(this._constructTooltipFunctionality(t,i)),this},t.prototype.addTooltipToLines=function(t,e,i){return e=e&&!Array.isArray(e)?[e]:e,this.svgGraph.selectAll(".sg-line").filter((function(t){return!e||~e.indexOf(t.series)})).call(this._constructTooltipFunctionality(t,i)),this},t.prototype.addTooltipToAreas=function(t,e,i){return e=e&&!Array.isArray(e)?[e]:e,this.svgGraph.selectAll(".sg-area").filter((function(t){return!e||~e.indexOf(t.series)})).call(this._constructTooltipFunctionality(t,i)),this},t.prototype._constructTooltipFunctionality=function(t,i){var s=this.svgGraph.node();return function(n){if(!n)return null;i||(i={});var r,o=e.select("body"),a=i.offset||[15,15],l=n._groups[0];n.on("mouseover.sg-tooltip",(function(t,n){var c,h=e.pointer(t,o.node());for(var u in r?c={left:h[0]+a[0]+"px",top:h[1]+a[1]+"px"}:(o.selectAll(".sg-tooltip").remove(),(r=o.append("div")).attr("class","sg-tooltip"),c={position:"absolute",left:h[0]+a[0]+"px",top:h[1]+a[1]+"px","z-index":1001,"background-color":"#fff",border:"1px solid #777","border-radius":"4px",padding:"4px 6px","font-family":"'Century Gothic', CenturyGothic, Geneva, AppleGothic, sans-serif","font-size":"12px"}),c)r.style(u,c[u]);if(i.style)for(var p in i.style)r.style(p,i.style[p]);i.mouseover&&i.mouseover(n,e.pointer(t,s),l)})).on("mousemove.sg-tooltip",(function(i,n){if(r){var c=e.pointer(i,o.node());r.style("left",c[0]+a[0]+"px").style("top",c[1]+a[1]+"px");var h=null;t&&(h=t(n,e.pointer(i,s),l)),h?r.html(h):(r.remove(),r=null)}})).on("mouseout.sg-tooltip",(function(t,n){i.mouseout&&i.mouseout(n,e.pointer(t,s),l),r&&(r.remove(),r=null)}))}},t.prototype.highlightPoints=function(t,e,i,s,n){var r=".sg-point";t&&(r+="[series='"+t+"']");var o=this;return this.svgGraph.selectAll(r).each((function(t,r,a){if(!e||e(t)){var l=o.x.scale,c=t.y2?o.y2.scale:o.y.scale;i||(i=t.wasNull?0:"function"==typeof t.pointsize?t.pointsize():t.pointsize),s||(s=t.wasNull?"none":o.getColorBySeriesName(t.series,!0));var h=i||t.pointsize;"function"==typeof h&&(h=h.call(t));var u=o.svgGraph.append("rect").attr("class","sg-point-highlight").attr("width",h).attr("height",h).attr("x",l(t.x)-h/2).attr("y",c(t.y)-h/2).attr("transform","rotate(45,"+l(t.x)+","+c(t.y)+")").style("fill",s);if(n)for(var p in n)u.style(p,n[p])}})),this},t.prototype.removeHighlightPoints=function(){return this.svgGraph.selectAll(".sg-point-highlight").remove(),this},t.prototype.removeHighlights=function(){return this.removeHighlightPoints(),this}}(f,e),function(t,e){t.prototype.removeHighlights=function(){return this.removeHighlightPoints().removeHighlightLines().removeHighlightAreas()},t.prototype.removeHighlightPoints=function(){return this.svgGraph.selectAll(".sg-point-highlight").remove(),this.svgGraph.selectAll(".sg-point.sg-highlight-hide").style("opacity","").classed("sg-highlight-hide",!1),this},t.prototype.removeHighlightLines=function(){return this.svgGraph.selectAll(".sg-line-highlight").remove(),this.svgGraph.selectAll(".sg-line.sg-highlight-hide").style("opacity","").classed("sg-highlight-hide",!1),this},t.prototype.removeHighlightAreas=function(){return this.svgGraph.selectAll(".sg-area-highlight").remove(),this.svgGraph.selectAll(".sg-area.sg-highlight-hide").style("opacity","").classed("sg-highlight-hide",!1),this},t.prototype._addBlurDefn=function(){this.svgDefs.select("#sg-effect-blur").empty()&&this.svgDefs.append("filter").attr("id","sg-effect-blur").append("feGaussianBlur").attr("in","SourceGraphic").attr("stdDeviation",6)},t.prototype.highlightPoints=function(t){var i=this;return(t=t||{}).series&&(t.series=Array.isArray(t.series)?t.series:[t.series]),this.svgGraph.selectAll(".sg-point").each((function(s,n,r){if((!t.series||~t.series.indexOf(s.series))&&(!t.filter||t.filter(i._clonePointData(s),r[n]))){var o=e.select(r[n].cloneNode(!0)).attr("class","sg-point-highlight"),a=i.x.scale,l=s.y2?i.y2.scale:i.y.scale,c=a(s.x),h=l(isNaN(s.y)?0:s.y),u=t.size||s.size;switch("function"==typeof u&&(u=u.call(s)),i.ptSeriesShapes[s.series]){case"triangle":case"triangle-up":u*=2,o.attr("points",(function(t){var e=1.519676*u,i=.86602*e*.5,s=.5*e;return"".concat(c-s,",").concat(h-i," ").concat(c,",").concat(h+i," ").concat(c+s,",").concat(h-i)}));break;case"triangle-down":u*=2,o.attr("points",(function(t){var e=1.519676*u,i=.86602*e*.5,s=.5*e;return"".concat(c-s,",").concat(h+i," ").concat(c,",").concat(h-i," ").concat(c+s,",").concat(h+i)}));break;case"square":case"diamond":o.attr("width",u).attr("height",u).attr("x",c-u/2).attr("y",h-u/2);break;default:o.attr("r",u)}if(t.nooutline||(o.style("stroke","#000"),o.style("stroke-width","1")),t.style)for(var p in t.style)o.style(p,t.style[p]);o.style("pointer-events","none"),i.svgGraph.node().append(o.node()),e.select(r[n]).classed("sg-highlight-hide",!0).style("opacity","0")}})),this},t.prototype.highlightLines=function(t){var i=this;return(t=t||{}).series&&(t.series=Array.isArray(t.series)?t.series:[t.series]),this._addBlurDefn(),this.svgGraph.selectAll(".sg-line").each((function(s,n,r){if((!t.series||~t.series.indexOf(s.series))&&(!t.filter||t.filter(i._cloneLineData(s),r[n]))){var o=e.select(r[n].cloneNode(!0)).attr("class","sg-point-highlight"),a=null;if(!t.noblur){if(a=e.select(r[n].cloneNode(!0)).attr("class","sg-line-highlight").attr("filter","url('#sg-effect-blur')").style("fill","none").style("filter","brightness(135%)").style("opacity","0.7"),t.blurstyle)for(var l in t.blurstyle)a.style(l,t.blurstyle[l]);a.style("pointer-events","none"),i.svgGraph.node().append(a.node())}if(t.style)for(var c in t.style)o.style(c,t.style[c]);o.style("pointer-events","none"),i.svgGraph.node().append(o.node()),e.select(r[n]).classed("sg-highlight-hide",!0).style("opacity","0")}})),this},t.prototype.highlightAreas=function(t){var i=this;return(t=t||{}).series&&(t.series=Array.isArray(t.series)?t.series:[t.series]),this.svgGraph.selectAll(".sg-area").each((function(s,n,r){if((!t.series||~t.series.indexOf(s.series))&&(!t.filter||t.filter(i._cloneAreaData(s),r[n]))){var o=e.select(r[n].cloneNode(!0)).attr("class","sg-point-highlight").style("opacity","1");if(t.nooutline||(o.style("stroke","#000"),o.style("stroke-width","1.5")),t.style)for(var a in t.style)o.style(a,t.style[a]);o.style("pointer-events","none"),i.svgGraph.node().append(o.node()),e.select(r[n]).classed("sg-highlight-hide",!0).style("opacity","0")}})),this}}(f,e),f.prototype.clearAllData=function(t){return this.clearPointsData(t),this.clearLinesData(t),this.clearAreasData(t),this},f.prototype.removeAll=function(t){return this.removePoints(t).removeAllLines(t).removeAreas(t),this},f.prototype.saveAsPng=function(t){t||(t="graph.png"),t.toLowerCase().endsWith(".png")||(t+=".png");var e=this.svg.attr("version","1.1").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").node();serializer=new XMLSerializer,svgHtml=serializer.serializeToString(e),canvas=document.createElement("canvas"),canvas.style.display="none",canvas.width=this.containerWidth,canvas.height=this.containerHeight;var i=document.createElement("a");i.style.display="none",i.download=t,this.svg.node().parentNode.appendChild(i);var s=new Image;s.onload=function(){canvas.getContext("2d").drawImage(s,0,0),i.href=canvas.toDataURL("image/png"),i.click(),i.parentElement.removeChild(i),canvas.remove()},s.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(svgHtml)))};const d=f})(),a.default})()));